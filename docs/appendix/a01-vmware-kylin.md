这是一份为您定制的实战文档。考虑到您的课程背景是 **Java Web** 和 **信创（国产化）**，本教程选择了目前政府和国企使用最广泛的 **银河麒麟高级服务器操作系统 (Kylin Linux Advanced Server V10)** 作为演示对象。

为了方便学生理解，我刻意避开了复杂的理论，侧重于“如何把环境跑起来”。

---

# A01. 基于 VMware 的国产化环境搭建 (Kylin V10)

!!! quote "🇨🇳 为什么要学国产操作系统？"
作为计算机专业的学生，我们不能只会在 Windows 上点点点，也不应只知道 CentOS/Ubuntu。

```
**“信创” (信息技术应用创新)** 是国家战略。目前，金融、电力、电信、党政等核心领域的服务器正在全面替换为 **国产操作系统**（如麒麟、统信）。

掌握 **银河麒麟 (KylinOS)** 的部署与维护，是你未来进入国企和头部大厂的**核心加分项**。

```

---

## 🛠️ 1. 准备工作

在开始之前，请确保你的电脑满足以下条件，并已下载所需软件：

* **虚拟化软件**: VMware Workstation Pro 16 或 17 (Windows)。
* *注：MacOS 用户请使用 VMware Fusion 或 Parallels Desktop（需 ARM 版镜像）。*


* **镜像文件 (ISO)**: `Kylin-Server-10-SP3-x86_64.iso`。
* *获取方式：请访问班级群共享 / 这里的 FTP 地址 / 麒麟官网申请试用。*


* **硬件要求**: 建议预留 50GB 硬盘空间，8GB 以上内存（虚拟机分配 4G）。

---

## 💻 2. 创建虚拟机 (配置“裸机”)

这一步相当于我们去电脑城“组装”一台空白的电脑。

1. 打开 VMware，点击 **"创建新的虚拟机"** -> 选择 **"典型 (推荐)"**。
2. **安装来源**: 选择 **"稍后安装操作系统"** (这一步很重要，避免 VMware 自动安装导致配置受限)。
3. **操作系统选择**:
* 客户机操作系统: **Linux**
* 版本: 由于麒麟 V10 服务器版底层基于 Linux 内核（类似 CentOS 8），这里推荐选择 **CentOS 8 64位** 或 **Other Linux 4.x kernel 64-bit**。


4. **命名**:
* 虚拟机名称: `Kylin-V10-Server`
* 位置: 建议存放在非 C 盘的专用目录（如 `D:\VMs\Kylin`）。


5. **磁盘容量**: 建议 **40GB** 或 **50GB**，选择 **"将虚拟磁盘存储为单个文件"** (性能更好)。
6. **自定义硬件** (点击“自定义硬件”按钮):
* **内存**: `4GB` (Java 开发比较吃内存，建议 4G 起步)。
* **处理器**: `2` 个内核。
* **新 CD/DVD**: 选择 **"使用 ISO 映像文件"** -> 浏览并选中下载好的麒麟 ISO 镜像。
* **网络适配器**: 选择 **"NAT 模式"** (最适合学校宿舍网络环境，主机的 IP 变了，虚拟机也不受影响)。



---

## 💿 3. 安装操作系统

启动虚拟机，我们将进入安装界面。操作逻辑与 CentOS 非常相似。

1. **引导界面**: 用键盘方向键选择 `Install Kylin Linux Advanced Server V10`，回车。
2. **语言选择**: 建议选择 **中文 (简体)**，虽然服务器通常用英文，但初学者用中文能减少挫败感。
3. **安装信息摘要 (关键步骤)**:
* **软件选择**:
* 默认可能是“带 GUI 的服务器”。
* **老师建议**: 既然是学服务器开发，建议选择 **"最小安装" (Minimal Install)**。没有图形界面，只有黑框框，这才叫专业！(如果实在怕黑框，可选“带 GUI 的服务器”)。
* *本教程以“最小安装”为例。*


* **安装目的地**: 点进去，保持默认（自动分区），点击左上角“完成”。
* **网络和主机名**:
* **开启网络**: 务必把右上角的 **以太网开关打开**！你会看到它获取了一个 IP 地址。
* **主机名**: 修改为 `kylin-server`，点击“应用”。




4. **开始安装**:
* 在安装过程中，点击 **ROOT 密码**。
* 设置一个你记得住的密码 (例如 `123456`，虽然提示太简单，但双击“完成”可以强制保存)。
* *可选：创建一个普通用户。*


5. **重启**: 安装进度条走完后，点击“重启系统”。

---

## 🌐 4. 配置固定 IP (必做)

在 NAT 模式下，虽然 DHCP 能自动获取 IP，但 IP 可能会变。作为服务器，我们需要一个**固定的地址**。

### 第一步：确认网段

在 VMware 菜单栏点击 **"编辑" -> "虚拟网络编辑器"**。

1. 选中 `VMnet8` (NAT 模式)。
2. 查看下方的 **"子网 IP"** (例如 `192.168.126.0`)。
3. 点击 **"NAT 设置"**，查看 **"网关 IP"** (例如 `192.168.126.2`)。
* *记下这两个数字，下面要用！*



### 第二步：修改网卡配置

登录系统 (账号 `root`，密码是你刚才设置的)。
输入以下命令编辑网卡文件 (文件名可能是 `ifcfg-ens33` 或 `ifcfg-eth0`)：

```bash
vi /etc/sysconfig/network-scripts/ifcfg-ens33

```

*(不会用 vi 编辑器的同学，按 `i` 键进入编辑模式，改完按 `Esc`，输入 `:wq` 回车保存)*

**修改/添加以下内容 (假设你的子网是 192.168.126.x)：**

```properties
BOOTPROTO=static      # 改为 static (静态)
ONBOOT=yes            # 确保开机自启
IPADDR=192.168.126.100  # 你想要的固定IP (不要和网关冲突)
NETMASK=255.255.255.0 # 子网掩码
GATEWAY=192.168.126.2   # 刚才查到的网关
DNS1=114.114.114.114  # 国内通用的 DNS
DNS2=8.8.8.8

```

### 第三步：重启网卡

```bash
nmcli c reload
nmcli c up ens33
# 或者简单粗暴地重启
reboot

```

### 第四步：测试网络

```bash
ping www.baidu.com

```

如果看到 `64 bytes from ...`，说明网络通了！按 `Ctrl + C` 停止。

---

## 🔗 5. SSH 远程连接

在 VMware 的小窗口里敲命令既不支持复制粘贴，字体又丑。
我们在宿主机（Windows）上使用终端工具连接它。

1. **下载工具**: 推荐 **MobaXterm** (免费、功能全) 或 **FinalShell** (国产、好看)。
2. **新建连接**:
* 协议: `SSH`
* 主机 (Host): `192.168.126.100` (刚才设置的固定 IP)
* 端口: `22`
* 用户名: `root`


3. **连接**: 点击确定，输入密码，保存密码。

!!! success "🎉 恭喜！"
当你看到绿色的 `[root@kylin-server ~]#` 提示符时，恭喜你！
你已经成功拥有一台运行着国产操作系统的服务器了。

```
接下来的 **Docker**、**OpenGauss 数据库**、**Java 项目**，我们将全部部署在这台服务器上。

```

---

## 📦 附：配置本地 Yum 源 (选做)

麒麟系统商业版通常需要订阅才能使用官方在线 Yum 源。为了方便教学，我们可以把 **ISO 镜像挂载**作为本地软件仓库。

```bash
# 1. 确保 ISO 已经在 VMware 设置里连接并勾选“已连接”
# 2. 创建挂载点
mkdir /mnt/cdrom

# 3. 挂载光驱
mount /dev/cdrom /mnt/cdrom

# 4. 备份原有的 yum 配置文件
cd /etc/yum.repos.d/
mkdir backup
mv *.repo backup/

# 5. 创建本地 yum 源文件
vi local.repo

```

在 `local.repo` 中输入：

```ini
[local-iso]
name=Local ISO
baseurl=file:///mnt/cdrom/AppStream
gpgcheck=0
enabled=1

[local-base]
name=Local Base
baseurl=file:///mnt/cdrom/BaseOS
gpgcheck=0
enabled=1

```

保存退出后，运行 `yum makecache`。如果成功，你就可以随意安装软件了（如 `yum install vim`）。